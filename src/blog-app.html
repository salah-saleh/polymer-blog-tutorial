<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="./blog-post.html">
<link rel="import" href="./blog-home.html">

<dom-module id="blog-app">
    <template>
        <style>
             :host {
                display: block;
            }
        </style>

        <app-location route="{{route}}" use-hash-as-path></app-location>
        <app-route route="[[route]]" pattern="/:page" data="{{data}}" tail="{{tail}}" active="{{active}}"></app-route>
        <a href="#/home">Home</a>
        <iron-pages selected="[[data.page]]" attr-for-selected="data-page">
            <div data-page="home">
                <blog-home></blog-home>
            </div>

            <div data-page$="[[data.page]]">
                <blog-post page="[[data.page]]"></blog-post>
            </div>
        </iron-pages>
    </template>

    <script>
        (function () {
            'use strict';
            Polymer({
                is: 'blog-app',
                attached: function() {
                    if (this.route.path === '') {
                        this.set('route.path', '/home');
                    }
                },
                properties: {
                    data: {
                        type: Object
                    },
                    tail: {
                        type: Object
                    },
                    active: {
                        type: Boolean
                    }
                }
            });
        })();
    </script>
</dom-module>